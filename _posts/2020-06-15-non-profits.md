---
keywords: fastai
description: "Leveling the playing field"
title: Non-Profits & Tech
toc: true
branch: master
categories: [data, non-profits, civic tech, unnecessary visualizations]
image: images/posts/datajawn/bees.jpg
badges: false
hide: true
nb_path: _notebooks/2020-06-15-non-profits.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-06-15-non-profits.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the tech world, the folks programming and building the actual product generally don't think about costs (outside of developer time). For companies who make money from the product the technologists are building, it's really a matter of revenue.  A thriving charity's first success is being able to afford basic operations.  A non-proft has "made it" when they can say "what else can we pay for". For non-profits and government agencies, there's not a lot of passive (legal) revenue to the organization, so we're gonna cover that choose-your-own-adventure style.</p>
<h2 id="Making-money-the-hard-way">Making money the hard way<a class="anchor-link" href="#Making-money-the-hard-way"> </a></h2><h3 id="A-primer-for-folks-who-haven't-hustled-to-avoid-revenue">A primer for folks who haven't hustled to avoid revenue<a class="anchor-link" href="#A-primer-for-folks-who-haven't-hustled-to-avoid-revenue"> </a></h3><p>Let's start with the assumption that all non-profits need some amount of funding. The most common methods for getting these funds are:</p>
<ol>
<li>Donations </li>
<li>Grants</li>
<li>Service Provider</li>
</ol>
<h4 id="Donations">Donations<a class="anchor-link" href="#Donations"> </a></h4><p>For the sake of not letting myself ramble, we're going to focus on financial donations. Many non-profits exist on the model of donations of goods (like Goodwill), selling those goods, and then generating operating costs from those goods. It's a financial model.  It exists. The end.</p>
<p>Non-profit organizations normally accept financial donations, but simply relying on someone to wake up and think "you know what, I'm going to send a check to United Way today" is probably not going to result in a reliable stream of income, if any income at all.  If a non-profit wants a reliable amount of funds from donations, they need a fundraising campaign.  Fundraising campaigns are not free - if Susan G. Komen spends $200,000 buying fancy pink shoes for football players and raises $ 800,000 (in an imaginary land in which you can directly attribute all financial donations to a single campaign), they're actually raising $600,000.  They spent 25 cents for every dollar raised.  In order to include this money in an annual budget, the non-profit needs to hold regular fundraising campaigns.  This is why most non-profits will employ a Fundraising Coordinator or Marketing Specialist.  If they plan on relying on donations as a revenue stream, they need to efficiently and consistently fundraise.</p>
<h4 id="Grants">Grants<a class="anchor-link" href="#Grants"> </a></h4><p>Grants are a sum of money given to an organization for a specific purpose.  Grants come in two basic flavors: a sweet but tangy public grant or an earthy, umami private grant.  In my experience, private grants are a little less stringent with their requirements but here's a basic breakdown of how to receive and use grant funding.</p>
<p><strong>Step 1: Funding Opportunity Announcement (FOA)</strong>
Grant agency puts out an FOA (it's the government, did you think there wasn't an acronym?) that specifies what the grant is for, how much you could receive, who is eligible, timeline, and how to apply.  Federal FOA's are almost humorously specific, like this "<a href="https://www.grants.gov/web/grants/search-grants.html">Small Grants Program for Leading English Discussion Groups in Sapporo, Japan</a>"</p>
<p><strong>Step 2: Application and Award</strong>
Agency seeking funding writes up their grant application (which usually is about the size of a graduate thesis) including a need statement, program narrative, proposed budget (or a budget narrative), discussion of impact, blood type, head shots, and $20 worth of pennies from 1960. Some of those are a joke but grant applicants have to be really careful what they include in their applications, using specific language, as the submissions are filtered through an <a href="https://www.nsf.gov/pubs/policydocs/pappg18_1/pappg_2.jsp#IIC2">automated</a> check initally.</p>
<p><strong>Step 3: Administration</strong>
Remember that grant budget you put in your application?  Now you have to stick to it. The grant will specify how much money is allotted for each component: personnel, services, materials, etc.  Grant awardees are required to not only stick to these budgets, but also report weekly to the funding agency.</p>
<p>For multi-year grants, awardees are oftentimes required to re-apply (with the understanding that they will still receive the grant).  Funding agencies may adjust the amount of funds given to awardees at this time.</p>
<h4 id="Direct-Services">Direct Services<a class="anchor-link" href="#Direct-Services"> </a></h4><p>Some non-profits receive funding for their programs through direct services given to members.  For example, a non-profit that offers Medication Assisted Treatment may submit insurance claims for participants who have received services through the non-profit.  Most insurance companies will have set money amounts for each procedure reported on each claim.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Getting-from-A-to-B">Getting from A to B<a class="anchor-link" href="#Getting-from-A-to-B"> </a></h2><h3 id="The-Tech-Boost">The Tech Boost<a class="anchor-link" href="#The-Tech-Boost"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Back in the day, I was the data manager for two federal grants that were implemented by a state government.  Our grant provided direct services for citizens, so a portion of the grant was earmarked for those costs.  We were required to spend a certain percentage of grant funds on direct services.</p>
<p>The program I worked for required a 60/40 split when it came to direct services.  This means we had to spend at least 60% of our allotted money on paying for medical services for our participants.  The grant also required that we report very specific data elements from those services.</p>
<p>For the sake of easy math, let's say the program was granted $1,000,000.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-12d32ce175e242aeb4432dcd8f2340d8"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-12d32ce175e242aeb4432dcd8f2340d8") {
      outputDiv = document.getElementById("altair-viz-12d32ce175e242aeb4432dcd8f2340d8");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 800, "continuousHeight": 600}}, "data": {"name": "data-9639842df9b0f59516eabceac07ec489"}, "mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Resource", "legend": null}, "tooltip": [{"type": "nominal", "field": "Resource"}, {"type": "quantitative", "field": "Budget"}], "x": {"type": "quantitative", "field": "Budget", "title": "Program Budget Breakdown"}, "y": {"type": "nominal", "axis": {"labels": false, "title": ""}, "field": "Program"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-9639842df9b0f59516eabceac07ec489": [{"Resource": "Program Administrator", "Budget": 95000, "Program": "Program"}, {"Resource": "Data Manager", "Budget": 85000, "Program": "Program"}, {"Resource": "Case Manager", "Budget": 45000, "Program": "Program"}, {"Resource": "Program Specialist", "Budget": 75000, "Program": "Program"}, {"Resource": "Program Coordinator", "Budget": 75000, "Program": "Program"}, {"Resource": "Administrative", "Budget": 20000, "Program": "Program"}, {"Resource": "Direct Services", "Budget": 600000, "Program": "Program"}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The grant requires that we find individuals in need of services, so we'll need a Program Coordinator.  It also requires a Program Specialist to engage with the organizations that provide the service and receive data reports from those organizations. This person should understand what data is required, how it comes in, will probably need to enter that data, and coordinate with service providers and participants regularly. The grant requires a Data Manager for bi-annual reporting of Minimum Data Elements (MDEs) identified and verified by the funding agency and ad-hoc program evaluation. The funding agency also requires regular reporting of progress and a specific adminstration of the grant, thus requiring a Program Administrator.  Because the staff for the program will need materials and space, there is an annual administrative budget.  This fits exactly into the $1,000,000 allotted.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/oes_all_x_tech.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="n">jobs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
<span class="n">jobs</span><span class="p">[</span><span class="s1">&#39;Percent Tech&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">jobs</span><span class="p">[</span><span class="s1">&#39;Technologists&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">jobs</span><span class="p">[</span><span class="s1">&#39;total_emp&#39;</span><span class="p">]),</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">jobs</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Industry</th>
      <th>Technologists</th>
      <th>total_emp</th>
      <th>Hourly mean wage</th>
      <th>annual_salary_tech</th>
      <th>annual_salary_all</th>
      <th>Percent Tech</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Agriculture, Forestry, Fishing and Hunting</td>
      <td>290</td>
      <td>430720</td>
      <td>35.38</td>
      <td>73590</td>
      <td>33510</td>
      <td>0.0007</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Mining</td>
      <td>12630</td>
      <td>684390</td>
      <td>53.89</td>
      <td>112100</td>
      <td>65860</td>
      <td>0.0185</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Utilities</td>
      <td>19480</td>
      <td>547100</td>
      <td>45.35</td>
      <td>94320</td>
      <td>81550</td>
      <td>0.0356</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Construction</td>
      <td>18100</td>
      <td>7439360</td>
      <td>36.91</td>
      <td>76770</td>
      <td>57110</td>
      <td>0.0024</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Manufacturing</td>
      <td>307140</td>
      <td>12707850</td>
      <td>49.38</td>
      <td>102710</td>
      <td>54260</td>
      <td>0.0242</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pivoted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">jobs</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Industry&quot;</span><span class="p">,</span> <span class="s2">&quot;Technologists&quot;</span><span class="p">,</span> <span class="s2">&quot;total_emp&quot;</span><span class="p">])</span>
<span class="n">pivoted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">pivoted</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Industry&#39;</span><span class="p">],</span> <span class="n">value_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Technologists&#39;</span><span class="p">,</span> <span class="s1">&#39;total_emp&#39;</span><span class="p">])</span>
<span class="n">pivoted</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Industry</th>
      <th>variable</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Agriculture, Forestry, Fishing and Hunting</td>
      <td>Technologists</td>
      <td>290</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Mining</td>
      <td>Technologists</td>
      <td>12630</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Utilities</td>
      <td>Technologists</td>
      <td>19480</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Construction</td>
      <td>Technologists</td>
      <td>18100</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Manufacturing</td>
      <td>Technologists</td>
      <td>307140</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_pivot</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Industry&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
                <span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
                <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> 
               <span class="p">}</span>
<span class="n">types</span> <span class="o">=</span> <span class="n">pivoted</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">convert_pivot</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">types</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Industry    object
variable    object
value        int64
dtype: object
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">horizontal_stripplot</span> <span class="o">=</span>  <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">jobs</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;Percent Tech:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;.0%&#39;</span><span class="p">)</span> <span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;Industry:N&#39;</span><span class="p">),</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Industry&#39;</span><span class="p">,</span> <span class="s1">&#39;Percent Tech&#39;</span><span class="p">]</span>
<span class="p">)</span><span class="o">.</span><span class="n">configure_facet</span><span class="p">(</span>
    <span class="n">spacing</span><span class="o">=</span><span class="mi">0</span>
<span class="p">)</span><span class="o">.</span><span class="n">configure_view</span><span class="p">(</span>
    <span class="n">stroke</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span><span class="o">.</span><span class="n">configure_axis</span><span class="p">(</span>
    <span class="n">labelFontSize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="n">titleFontSize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>

<span class="n">horizontal_stripplot</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-187db8e8c5714dc4865241ba1ef5a6d1"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-187db8e8c5714dc4865241ba1ef5a6d1") {
      outputDiv = document.getElementById("altair-viz-187db8e8c5714dc4865241ba1ef5a6d1");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300, "stroke": null}, "axis": {"labelFontSize": 16, "titleFontSize": 16}, "facet": {"spacing": 0}}, "data": {"name": "data-2ae1159158d27eadd7506611ab1e5090"}, "mark": "circle", "encoding": {"color": {"type": "nominal", "field": "Industry"}, "tooltip": [{"type": "nominal", "field": "Industry"}, {"type": "quantitative", "field": "Percent Tech"}], "x": {"type": "quantitative", "axis": {"format": ".0%"}, "field": "Percent Tech"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-2ae1159158d27eadd7506611ab1e5090": [{"Industry": "Agriculture, Forestry, Fishing and Hunting", "Technologists": 290, "total_emp": 430720, "Hourly mean wage": 35.38, "annual_salary_tech": 73590, "annual_salary_all": 33510, "Percent Tech": 0.0007}, {"Industry": "Mining", "Technologists": 12630, "total_emp": 684390, "Hourly mean wage": 53.89, "annual_salary_tech": 112100, "annual_salary_all": 65860, "Percent Tech": 0.0185}, {"Industry": "Utilities", "Technologists": 19480, "total_emp": 547100, "Hourly mean wage": 45.35, "annual_salary_tech": 94320, "annual_salary_all": 81550, "Percent Tech": 0.0356}, {"Industry": "Construction", "Technologists": 18100, "total_emp": 7439360, "Hourly mean wage": 36.91, "annual_salary_tech": 76770, "annual_salary_all": 57110, "Percent Tech": 0.0024}, {"Industry": "Manufacturing", "Technologists": 307140, "total_emp": 12707850, "Hourly mean wage": 49.38, "annual_salary_tech": 102710, "annual_salary_all": 54260, "Percent Tech": 0.0242}, {"Industry": "Wholesale Trade", "Technologists": 173160, "total_emp": 5848510, "Hourly mean wage": 42.04, "annual_salary_tech": 87440, "annual_salary_all": 59110, "Percent Tech": 0.0296}, {"Industry": "Retail Trade", "Technologists": 49940, "total_emp": 15822440, "Hourly mean wage": 38.74, "annual_salary_tech": 80590, "annual_salary_all": 34870, "Percent Tech": 0.0032}, {"Industry": "Transportation and Warehousing", "Technologists": 39560, "total_emp": 6281590, "Hourly mean wage": 38.72, "annual_salary_tech": 80540, "annual_salary_all": 49850, "Percent Tech": 0.0063}, {"Industry": "Information", "Technologists": 588500, "total_emp": 2831080, "Hourly mean wage": 48.99, "annual_salary_tech": 101900, "annual_salary_all": 80050, "Percent Tech": 0.2079}, {"Industry": "Finance and Insurance", "Technologists": 438650, "total_emp": 5972610, "Hourly mean wage": 47.63, "annual_salary_tech": 99070, "annual_salary_all": 75280, "Percent Tech": 0.0734}, {"Industry": "Real Estate and Rental and Leasing", "Technologists": 18110, "total_emp": 2259880, "Hourly mean wage": 40.52, "annual_salary_tech": 84290, "annual_salary_all": 51190, "Percent Tech": 0.008}, {"Industry": "Professional, Scientific, and Technical Services", "Technologists": 1664310, "total_emp": 9379990, "Hourly mean wage": 46.74, "annual_salary_tech": 97230, "annual_salary_all": 85720, "Percent Tech": 0.1774}, {"Industry": "Management of Companies and Enterprises", "Technologists": 289550, "total_emp": 2463870, "Hourly mean wage": 45.01, "annual_salary_tech": 93630, "annual_salary_all": 87280, "Percent Tech": 0.1175}, {"Industry": "Administrative and Support and Waste Management and Remediation Services", "Technologists": 235830, "total_emp": 9372940, "Hourly mean wage": 41.34, "annual_salary_tech": 85990, "annual_salary_all": 42010, "Percent Tech": 0.0252}, {"Industry": "Educational Services", "Technologists": 231480, "total_emp": 13275220, "Hourly mean wage": 33.16, "annual_salary_tech": 68960, "annual_salary_all": 58080, "Percent Tech": 0.0174}, {"Industry": "Health Care and Social Assistance", "Technologists": 146000, "total_emp": 21025440, "Hourly mean wage": 37.14, "annual_salary_tech": 77260, "annual_salary_all": 55300, "Percent Tech": 0.0069}, {"Industry": "Arts, Entertainment, and Recreation", "Technologists": 11310, "total_emp": 2484140, "Hourly mean wage": 34.87, "annual_salary_tech": 72530, "annual_salary_all": 39300, "Percent Tech": 0.0046}, {"Industry": "Accommodation and Food Services", "Technologists": 5160, "total_emp": 14073290, "Hourly mean wage": 30.11, "annual_salary_tech": 62620, "annual_salary_all": 27980, "Percent Tech": 0.0004}, {"Industry": "Other Services (except Federal, State, and Local Government)", "Technologists": 39750, "total_emp": 4249730, "Hourly mean wage": 36.94, "annual_salary_tech": 76830, "annual_salary_all": 44220, "Percent Tech": 0.0094}, {"Industry": "Federal, State, and Local Government", "Technologists": 263930, "total_emp": 9725350, "Hourly mean wage": 41.38, "annual_salary_tech": 86070, "annual_salary_all": 62720, "Percent Tech": 0.0271}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ratios</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">types</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Industry&#39;</span><span class="p">,</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Industry&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">]</span>
    <span class="p">)</span>
<span class="n">ratios</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-5d682d45adf24429806f651e15a094e6"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-5d682d45adf24429806f651e15a094e6") {
      outputDiv = document.getElementById("altair-viz-5d682d45adf24429806f651e15a094e6");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-1988df436ee82602dc8324509df1c39f"}, "mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Industry"}, "tooltip": [{"type": "nominal", "field": "Industry"}, {"type": "quantitative", "field": "value"}], "x": {"type": "nominal", "field": "variable"}, "y": {"type": "quantitative", "field": "value"}}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-1988df436ee82602dc8324509df1c39f": [{"Industry": "Agriculture, Forestry, Fishing and Hunting", "variable": "Technologists", "value": 290}, {"Industry": "Mining", "variable": "Technologists", "value": 12630}, {"Industry": "Utilities", "variable": "Technologists", "value": 19480}, {"Industry": "Construction", "variable": "Technologists", "value": 18100}, {"Industry": "Manufacturing", "variable": "Technologists", "value": 307140}, {"Industry": "Wholesale Trade", "variable": "Technologists", "value": 173160}, {"Industry": "Retail Trade", "variable": "Technologists", "value": 49940}, {"Industry": "Transportation and Warehousing", "variable": "Technologists", "value": 39560}, {"Industry": "Information", "variable": "Technologists", "value": 588500}, {"Industry": "Finance and Insurance", "variable": "Technologists", "value": 438650}, {"Industry": "Real Estate and Rental and Leasing", "variable": "Technologists", "value": 18110}, {"Industry": "Professional, Scientific, and Technical Services", "variable": "Technologists", "value": 1664310}, {"Industry": "Management of Companies and Enterprises", "variable": "Technologists", "value": 289550}, {"Industry": "Administrative and Support and Waste Management and Remediation Services", "variable": "Technologists", "value": 235830}, {"Industry": "Educational Services", "variable": "Technologists", "value": 231480}, {"Industry": "Health Care and Social Assistance", "variable": "Technologists", "value": 146000}, {"Industry": "Arts, Entertainment, and Recreation", "variable": "Technologists", "value": 11310}, {"Industry": "Accommodation and Food Services", "variable": "Technologists", "value": 5160}, {"Industry": "Other Services (except Federal, State, and Local Government)", "variable": "Technologists", "value": 39750}, {"Industry": "Federal, State, and Local Government", "variable": "Technologists", "value": 263930}, {"Industry": "Agriculture, Forestry, Fishing and Hunting", "variable": "total_emp", "value": 430720}, {"Industry": "Mining", "variable": "total_emp", "value": 684390}, {"Industry": "Utilities", "variable": "total_emp", "value": 547100}, {"Industry": "Construction", "variable": "total_emp", "value": 7439360}, {"Industry": "Manufacturing", "variable": "total_emp", "value": 12707850}, {"Industry": "Wholesale Trade", "variable": "total_emp", "value": 5848510}, {"Industry": "Retail Trade", "variable": "total_emp", "value": 15822440}, {"Industry": "Transportation and Warehousing", "variable": "total_emp", "value": 6281590}, {"Industry": "Information", "variable": "total_emp", "value": 2831080}, {"Industry": "Finance and Insurance", "variable": "total_emp", "value": 5972610}, {"Industry": "Real Estate and Rental and Leasing", "variable": "total_emp", "value": 2259880}, {"Industry": "Professional, Scientific, and Technical Services", "variable": "total_emp", "value": 9379990}, {"Industry": "Management of Companies and Enterprises", "variable": "total_emp", "value": 2463870}, {"Industry": "Administrative and Support and Waste Management and Remediation Services", "variable": "total_emp", "value": 9372940}, {"Industry": "Educational Services", "variable": "total_emp", "value": 13275220}, {"Industry": "Health Care and Social Assistance", "variable": "total_emp", "value": 21025440}, {"Industry": "Arts, Entertainment, and Recreation", "variable": "total_emp", "value": 2484140}, {"Industry": "Accommodation and Food Services", "variable": "total_emp", "value": 14073290}, {"Industry": "Other Services (except Federal, State, and Local Government)", "variable": "total_emp", "value": 4249730}, {"Industry": "Federal, State, and Local Government", "variable": "total_emp", "value": 9725350}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">jobs</span><span class="p">)</span><span class="o">.</span><span class="n">transform_joinaggregate</span><span class="p">(</span>
    <span class="n">TotalEmp</span><span class="o">=</span><span class="s1">&#39;sum(total_emp)&#39;</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">transform_calculate</span><span class="p">(</span>
    <span class="n">PercentOfEmployed</span><span class="o">=</span><span class="s2">&quot;(datum.total_emp-datum.Technologists)/datum.TotalEmp&quot;</span>
<span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">alt</span><span class="o">.</span><span class="n">X</span><span class="p">(</span><span class="s1">&#39;PercentOfEmployed:Q&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;.0%&#39;</span><span class="p">)),</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Industry:N&#39;</span><span class="p">,</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;total_emp&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">

<div id="altair-viz-76ece27862b9453bb98e1e813894a170"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-76ece27862b9453bb98e1e813894a170") {
      outputDiv = document.getElementById("altair-viz-76ece27862b9453bb98e1e813894a170");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "data": {"name": "data-efe1548ff87c7ac9c225ff33978cfcca"}, "mark": "bar", "encoding": {"tooltip": [{"type": "quantitative", "field": "total_emp"}], "x": {"type": "quantitative", "axis": {"format": ".0%"}, "field": "PercentOfEmployed"}, "y": {"type": "nominal", "field": "Industry"}}, "transform": [{"joinaggregate": [{"op": "sum", "field": "total_emp", "as": "TotalEmp"}]}, {"calculate": "(datum.total_emp-datum.Technologists)/datum.TotalEmp", "as": "PercentOfEmployed"}], "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-efe1548ff87c7ac9c225ff33978cfcca": [{"Industry": "Agriculture, Forestry, Fishing and Hunting", "Technologists": 290, "total_emp": 430720, "Hourly mean wage": 35.38, "annual_salary_tech": 73590, "annual_salary_all": 33510}, {"Industry": "Mining", "Technologists": 12630, "total_emp": 684390, "Hourly mean wage": 53.89, "annual_salary_tech": 112100, "annual_salary_all": 65860}, {"Industry": "Utilities", "Technologists": 19480, "total_emp": 547100, "Hourly mean wage": 45.35, "annual_salary_tech": 94320, "annual_salary_all": 81550}, {"Industry": "Construction", "Technologists": 18100, "total_emp": 7439360, "Hourly mean wage": 36.91, "annual_salary_tech": 76770, "annual_salary_all": 57110}, {"Industry": "Manufacturing", "Technologists": 307140, "total_emp": 12707850, "Hourly mean wage": 49.38, "annual_salary_tech": 102710, "annual_salary_all": 54260}, {"Industry": "Wholesale Trade", "Technologists": 173160, "total_emp": 5848510, "Hourly mean wage": 42.04, "annual_salary_tech": 87440, "annual_salary_all": 59110}, {"Industry": "Retail Trade", "Technologists": 49940, "total_emp": 15822440, "Hourly mean wage": 38.74, "annual_salary_tech": 80590, "annual_salary_all": 34870}, {"Industry": "Transportation and Warehousing", "Technologists": 39560, "total_emp": 6281590, "Hourly mean wage": 38.72, "annual_salary_tech": 80540, "annual_salary_all": 49850}, {"Industry": "Information", "Technologists": 588500, "total_emp": 2831080, "Hourly mean wage": 48.99, "annual_salary_tech": 101900, "annual_salary_all": 80050}, {"Industry": "Finance and Insurance", "Technologists": 438650, "total_emp": 5972610, "Hourly mean wage": 47.63, "annual_salary_tech": 99070, "annual_salary_all": 75280}, {"Industry": "Real Estate and Rental and Leasing", "Technologists": 18110, "total_emp": 2259880, "Hourly mean wage": 40.52, "annual_salary_tech": 84290, "annual_salary_all": 51190}, {"Industry": "Professional, Scientific, and Technical Services", "Technologists": 1664310, "total_emp": 9379990, "Hourly mean wage": 46.74, "annual_salary_tech": 97230, "annual_salary_all": 85720}, {"Industry": "Management of Companies and Enterprises", "Technologists": 289550, "total_emp": 2463870, "Hourly mean wage": 45.01, "annual_salary_tech": 93630, "annual_salary_all": 87280}, {"Industry": "Administrative and Support and Waste Management and Remediation Services", "Technologists": 235830, "total_emp": 9372940, "Hourly mean wage": 41.34, "annual_salary_tech": 85990, "annual_salary_all": 42010}, {"Industry": "Educational Services", "Technologists": 231480, "total_emp": 13275220, "Hourly mean wage": 33.16, "annual_salary_tech": 68960, "annual_salary_all": 58080}, {"Industry": "Health Care and Social Assistance", "Technologists": 146000, "total_emp": 21025440, "Hourly mean wage": 37.14, "annual_salary_tech": 77260, "annual_salary_all": 55300}, {"Industry": "Arts, Entertainment, and Recreation", "Technologists": 11310, "total_emp": 2484140, "Hourly mean wage": 34.87, "annual_salary_tech": 72530, "annual_salary_all": 39300}, {"Industry": "Accommodation and Food Services", "Technologists": 5160, "total_emp": 14073290, "Hourly mean wage": 30.11, "annual_salary_tech": 62620, "annual_salary_all": 27980}, {"Industry": "Other Services (except Federal, State, and Local Government)", "Technologists": 39750, "total_emp": 4249730, "Hourly mean wage": 36.94, "annual_salary_tech": 76830, "annual_salary_all": 44220}, {"Industry": "Federal, State, and Local Government", "Technologists": 263930, "total_emp": 9725350, "Hourly mean wage": 41.38, "annual_salary_tech": 86070, "annual_salary_all": 62720}]}}, {"mode": "vega-lite"});
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

